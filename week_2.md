# 第三章 以太坊客户端 

## 简介
以太坊客户端是实现以太坊规范并通过对等网络与其他以太坊客户端进行通信的软件应用程序
主要客户端实现:
* Go（Geth）
* Rust（parity）
* C++（cpp-ethereum）
* Python（pyethereum）
* Scala（mantis）
* Java（harmony）

## 以太坊节点
以太坊节点分为全节点和轻节点，全节点存放了所有区块的block header和 body(交易列表)，而轻节点只存
区块的block header，大幅降低存储需求。

![avatar](http://jizhid.com/wp-content/uploads/2020/07/159463874195125.jpg)

### 全节点
以太坊全节点的资料大小已经超过540GB(2020/12 https://bitinfocharts.com/ethereum/)，并以每月30GB的速度持续增长。
#### 优点：
* 支持基于以太坊的网络的弹性和抗审查。
* 权威性验证所有交易。
* 可以与公共区块链上的任何合约进行交互（无需中介）。
* 如有必要，可以离线查询（只读）区块链状态（账户，合约等）。
* 可以在不让第三方知道你正在读取的信息的情况下查询区块链。
* 可以直接将自己的合约部署到公共区块链中（无需中介）。
#### 缺点：
* 需要大量且不断增长的硬件和带宽资源。
* 需要几个小时或几天才能完成第一次初始下载的同步。
* 必须维护，升级并保持联机才能保持同步

### 轻节点
以太坊主网约有1150万个区块(2020/12), 每个区块标头平均大小508bytes，轻节点大小大约5.6G。
#### 优点
* 只存储每个区块的 Block Header，数据量小
* 不一定保持随时在线，节省流量和带宽
* 根据需求可以只保存与自己相关的交易內容
#### 缺点
* 无法验证大多数交易的合法性，只能验证与自己相关交易的合法性
* 无法验证新区块的正确性
* 只能检测到当前的最长链，但无法知道哪条是最长合法链

## 运行以太坊客户端
Go-Ethereum (Geth): Geth是Go语言实现的，它被积极开发并被视为以太坊客户端的“官方”实现。
```shell script
#https://github.com/ethereum/go-ethereum
$ git clone https://github.com/ethereum/go-ethereum.git
$ cd go-ethereum
$ make geth
$ ./build/bin/geth version

$ sudo cp ./build/bin/geth /usr/local/bin
 ```

## 轻量级以太坊客户
主要功能：
* 管理钱包中的私钥和以太坊地址。
* 创建，签署和广播交易。
* 使用数据与智能合约进行交互。
* 浏览并与DApps交互。
* 提供到区块浏览器等外部服务的链接。
* 转换ether单位并从外部来源检索汇率。
* 将web3实例作为JavaScript对象注入到Web浏览器中。
* 使用另一个客户端提供/注入浏览器的web3实例。
* 在本地或远程以太网节点上访问RPC服务。

主要应用：
* 移动（智能手机）钱包
* 浏览器钱包


